<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}MRIC!
			{% endblock %}
		</title>
		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>"> {% block stylesheets %}{% endblock %}

		{% block javascripts %}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
			<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		{% endblock %}
	</head>
	<body class="vh-100">
		{% block flashes %}
			{% if app.flashes|length %}
				<div class="d-flex flex-column position-fixed py-3 overflow-auto top-0 end-0 m-3">
					{% for type, messages in app.flashes %}
						{% for message in messages %}
							{% include 'component/flash.html.twig' with { type: type, message: message } only %}
						{% endfor %}
					{% endfor %}
				</div>
			{% endif %}
		{% endblock %}

		{% block body %}
			<div id="main-wrap" class="d-grid">
				<div id="topbar" class="d-flex align-items-center justify-content-center py-2 px-5">
					<a class="d-flex align-items-center gap-3 text-decoration-none" href="{{ path("app") }}">
						<img src="/imgs/ball.svg" alt=""/>
						<h2 class="fw-bolder m-0">MRIC</h2>
					</a>

					{% block topbar_items %}{% endblock %}
					
					{% block dropdown_user %}
						{% if Context.user(app.session.get("session")|default(-1)) %}
							<div class="dropdown ms-auto">
								<button class="btn btn-secondary d-flex align-items-center gap-2 dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<img src="/imgs/referee.svg" alt="" />
									Arbitro
								</button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
									<a class="dropdown-item" href="{{ path("app.account") }}">Profilo</a>
									<a class="dropdown-item" href="{{ path("auth.logout") }}">Esci</a>
								</div>
							</div>
						{% endif %}
					{% endblock %}
				</div>
				<main class="h-100 p-5 d-flex justify-content-center">
					{% block main %}{% endblock %}
				</main>
			</div>
		{% endblock %}
	</body>
</html>
